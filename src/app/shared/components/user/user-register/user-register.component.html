<div class="main-box-container">
  <div class="login-box">
    <h2>Create Your Account</h2>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

      <!-- Username Field -->
      <div class="input-group">
        <label class="body-bold" for="username">Name</label>
        <div>
          <input
            class="subtitle-regular"
            type="text"
            id="username"
            formControlName="username"
            placeholder="Enter your full Name"
          />
        </div>
        <div
          *ngIf="
            registerForm.get('username')?.invalid &&
            registerForm.get('username')?.touched
          "
          class="error-message"
        >
          <span *ngIf="registerForm.get('username')?.errors?.['required']">
            Username is required
          </span>
          <span *ngIf="registerForm.get('username')?.errors?.['minlength']">
            Username must be at least 3 characters
          </span>
          <span *ngIf="registerForm.get('username')?.errors?.['pattern']">
            Username can only contain letters
          </span>
        </div>
      </div>

      <!-- Mobile Field -->
      <div class="input-group">
        <label class="body-bold" for="mobile">Mobile</label>
        <div>
          <input
            class="subtitle-regular"
            type="tel"
            id="mobile"
            formControlName="mobile"
            placeholder="Enter your contact number"
          />
        </div>
        <div
          *ngIf="
            registerForm.get('mobile')?.invalid && 
            registerForm.get('mobile')?.touched
          "
          class="error-message"
        >
          <span *ngIf="registerForm.get('mobile')?.errors?.['required']">
            Mobile number is required
          </span>
          <span *ngIf="registerForm.get('mobile')?.errors?.['pattern']">
            Please enter a valid mobile number
          </span>
        </div>
      </div>

      <!-- Email Field -->
      <div class="input-group">
        <label class="body-bold" for="email">Email</label>
        <div>
          <input
            class="subtitle-regular"
            type="email"
            id="email"
            formControlName="email"
            placeholder="Enter your email"
          />
        </div>
        <div
          *ngIf="
            registerForm.get('email')?.invalid &&
            registerForm.get('email')?.touched
          "
          class="error-message"
        >
          <span *ngIf="registerForm.get('email')?.errors?.['required']">
            Email is required
          </span>
          <span *ngIf="registerForm.get('email')?.errors?.['email']">
            Please enter a valid email
          </span>
        </div>
      </div>

      <!-- Password Field -->
      <div class="input-group">
        <label class="body-bold" for="email">Password</label>
        <div class="password-container">
          <div class="input-wrapper">
            <input
              [type]="isPasswordVisible ? 'text' : 'password'"
              id="password"
              formControlName="password"
              class="subtitle-regular password-input"
              placeholder="Create your password"
            />
            <i
              id="togglePassword"
              [ngClass]="
                isPasswordVisible
                  ? 'fa-regular fa-eye-slash'
                  : 'fa-regular fa-eye'
              "
              (click)="togglePasswordVisibility()"
            ></i>
          </div>
        </div>
        <div
          *ngIf="
            registerForm.get('password')?.invalid &&
            registerForm.get('password')?.touched
          "
          class="error-message"
        >
          <span *ngIf="registerForm.get('password')?.errors?.['required']">
            Password is required
          </span>
          <span *ngIf="registerForm.get('password')?.errors?.['minlength']">
            Password must be at least 6 characters
          </span>
        </div>
      </div>

      <button
        type="submit"
        class="login-btn submit-btn headline-bold"
        [disabled]="registerForm.invalid"
      >
        SignUp
      </button>
      <div class="error-text" *ngIf="errorMessage">{{ errorMessage }}</div>

      <p class="signup-text">
        Already have an account? <a href="/login">Login</a>
      </p>
    </form>
  </div>
</div>
